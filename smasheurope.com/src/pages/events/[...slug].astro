---
import BaseLayout from '../../layouts/base-layout.astro';
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const blogEntries = await getCollection('events');
  return blogEntries.map(entry => ({
    params: { slug: entry.slug }, props: { entry },
  }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();


---
<BaseLayout>
  <section id={entry.data.title} class="container">
    <div class="card">
      <span class="game">{entry.data.games}</span>
      <div class="image">
        <img src={entry.data.image}/>
      </div>
      <span>{entry.data.title}</span>
    
      <Content/>
      
      <span>{entry.data.month} {entry.data.start}-{entry.data.end}, {entry.data.city}, {entry.data.country}</span>
      <div class="buttons">
        <a href={entry.data.trailer_url}>trailer</a>
        <a href={entry.data.reg_url}>details</a>
        <a href={entry.data.event_page}>page</a>
      </div>
    </div>
    </div> 
  
</BaseLayout>

<style lang="scss">
  .container {
    max-width: inherit;
    background: red;
    display: flex;
    justify-content: center;
    flex-direction: column;
    align-items: center;

    .card {
      background: rgb(152, 152, 232);
      display: flex;
      flex-direction: column;
      
      min-height: 200px;
      width: 400px;
      margin-bottom: 2em;

      border: 1px black solid;
      border-radius: 10px;

      @media screen and (max-width: 1000px) {
          width:100%;
      }

      span {
        width:100%;
        &.game {
          text-align: center;
        }
      }

      .image {
        width: 100%;
        img {
          width: 100%;
        }
      }
    }
  }
</style>

